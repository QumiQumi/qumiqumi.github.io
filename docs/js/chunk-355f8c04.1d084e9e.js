(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-355f8c04"],{"3e00":function(e,s,t){"use strict";t("610e")},"610e":function(e,s,t){},b407:function(e,s,t){"use strict";t.r(s);var o=function(){var e=this,s=e.$createElement,o=e._self._c||s;return o("div",[o("div",{staticClass:"nav__back d-flex align-center",on:{click:function(s){return e.$router.go(-1)}}},[o("v-icon",{attrs:{large:""}},[e._v("mdi-chevron-left")]),o("div",[e._v("Назад")])],1),o("div",{staticClass:"lesson d-flex flex-column"},[o("div",{staticClass:"lesson__title d-flex justify-space-between"},[o("h1",[e._v(" "+e._s(e.lesson.subject?e.lesson.subject.name:"")+", "+e._s(e.lesson.class?e.lesson.class.class_number:"")+" ")]),e.isEdit||"student"===e.role?e._e():o("v-icon",{on:{click:e.editLesson}},[e._v("mdi-pencil-outline")])],1),e.isEdit?o("div",{staticClass:"lesson__form"},[o("v-text-field",{attrs:{label:"Тема урока",dense:"",outlined:"","full-width":""},model:{value:e.editedLesson.theme,callback:function(s){e.$set(e.editedLesson,"theme",s)},expression:"editedLesson.theme"}}),o("v-text-field",{attrs:{label:"Ссылка на онлайн-урок",dense:"",outlined:"","full-width":""},model:{value:e.editedLesson.link,callback:function(s){e.$set(e.editedLesson,"link",s)},expression:"editedLesson.link"}}),o("Button",{on:{click:e.saveLesson}},[e._v("Сохранить")])],1):o("div",[o("div",{staticClass:"lesson__theme"},[e.lesson.theme?o("span",[e._v(" Тема: "+e._s(e.lesson.theme))]):o("span",[e._v("Добавьте тему урока!")])]),e.lesson.link?o("a",{attrs:{href:e.lesson.link}},[e._v("Онлайн - занятие")]):o("span",[e._v("Добавьте ссылку на онлайн урок!")])])]),o("h2",{staticClass:"lesson-homework__title"},[e._v("Домашние задания")]),e.lesson.homework&&0===e.lesson.homework.length?o("div",{staticClass:"lesson-homework-empty"},[o("img",{attrs:{src:t("d51e"),alt:"Ничего не задано"}}),o("div",{staticClass:"lesson-homework__subtitle"},[e._v("У вас нет домашних заданий!")]),"student"!==e.role?o("Button",{on:{click:e.redirectToAddHomework}},[e._v("Добавить новое")]):e._e()],1):e.lesson.homework?o("div",{staticClass:"lesson-homework d-flex flex-column"},[e._m(0),e._l(e.lesson.homework,(function(s,t){return o("div",{key:t,staticClass:"lesson-homework__row d-flex justify-space-between align-center"},[o("div",[e._v(e._s(s.theme))]),o("div",[e._v(e._s(s.deadline))])])})),"student"!==e.role?o("Button",{staticClass:"align-self-end lesson-homework__button",attrs:{width:"187px"},on:{click:e.redirectToAddHomework}},[e._v("Добавить новое")]):e._e()],2):e._e()])},n=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"lesson-homework__header d-flex justify-space-between align-center"},[t("div",[e._v("Название")]),t("div",[e._v("Дедлайн")])])}],i=t("b2c7"),l=t("bc3a"),d=t.n(l),a={created(){this.loadLesson()},computed:{lesson(){return this.$store.getters.lesson},role(){return this.$store.getters.role}},data(){return{isEdit:!1,editedLesson:{}}},methods:{async loadLesson(){await this.$store.dispatch("get",{getWhat:"lesson",id:this.$route.params.id})},editLesson(){this.isEdit=!0,this.editedLesson={theme:this.lesson.theme,link:this.lesson.link}},saveLesson(){this.isEdit=!1,this.editedLesson.theme===this.lesson.theme&&this.editedLesson.link===this.lesson.link||(this.$store.dispatch("loadingOn"),d.a.put(i["g"]+"/"+this.$route.params.id,this.editedLesson,{headers:{Authorization:"Bearer "+this.$store.getters.token}}).then(()=>{this.loadLesson(),this.$store.dispatch("loadingOff")}).catch(e=>{this.$store.dispatch("loadingOff"),console.error(e)}))},redirectToAddHomework(){this.$router.push({name:"addHomework"})}}},r=a,c=(t("3e00"),t("2877")),h=t("6544"),u=t.n(h),_=t("132d"),v=t("8654"),m=Object(c["a"])(r,o,n,!1,null,null,null);s["default"]=m.exports;u()(m,{VIcon:_["a"],VTextField:v["a"]})},d51e:function(e,s,t){e.exports=t.p+"img/nohomework.6516e183.svg"}}]);
//# sourceMappingURL=chunk-355f8c04.1d084e9e.js.map